<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="536px" preserveAspectRatio="none" style="width:1238px;height:536px;" version="1.1" viewBox="0 0 1238 536" width="1238px" zoomAndPan="magnify"><defs><filter height="300%" id="fizheqgj8j19" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[be46075f19f578c6b69fb979f079d636]
cluster RX_INT--><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="211" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="896" x="168" y="7"/><rect fill="#FFFFFF" height="178.7031" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="890" x="171" y="36.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168" x2="1064" y1="33.2969" y2="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="591" y="23.9951">RX_INT</text><polygon fill="#FEFECE" filter="url(#fizheqgj8j19)" points="612,50,624,62,612,74,600,62,612,50" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="42.5938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="798" y="151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="176" x="827" y="168.9951">Prvé 4bity načítané(LSb)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="803" y="185.292">Enable InterruptFallingEdge</text><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="42.5938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="192" y="151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="213.5" y="168.9951">Druhé 4bity načítané(MSb)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="197" y="185.292">Enable InterruptFallingEdge</text><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="42.5938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="461.5" y="151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="466.5" y="168.9951">Disable INT:</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="555.5" y="168.9951">InterruptOrDMADisabled</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="757.5" y="168.9951"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="496" y="185.292">Spusti PIT timer 3/4 periody</text><ellipse cx="16" cy="328" fill="#000000" filter="url(#fizheqgj8j19)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><g id="START_BIT_A"><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="78.2031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="190" y="289"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="190" x2="510" y1="315.2969" y2="315.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="303" y="306.9951">START_BIT_A</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="296" x="195" y="331.4355">Inicializácia/Vynulovanie pomocných premenných</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="227" y="345.4043">bit_index = 0</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="195" y="359.373">Spusti PIT timer 3/4 periody</text></g><g id="TIMER_INT"><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="78.2031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="258" x="555" y="444"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="555" x2="813" y1="470.2969" y2="470.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="647" y="461.9951">TIMER_INT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="560" y="486.4355">Stop timer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="560" y="500.4043">Načítaj bit z RX pinu; bit_index++</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="560" y="514.373">Enable InterruptEitherEdge</text></g><g id="START_BIT_B"><rect fill="#FEFECE" filter="url(#fizheqgj8j19)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="812" y="303"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="812" x2="1032" y1="329.2969" y2="329.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="875" y="320.9951">START_BIT_B</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="817" y="345.4355">Spusti PIT timer 3/4 periody</text></g><!--MD5=[9377f62d6d11e4d81467994696c5043a]
link *start to START_BIT_A--><path d="M26.3622,328 C51.4198,328 118.14,328 184.536,328 " fill="none" id="*start-to-START_BIT_A" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="189.724,328,180.724,324,184.724,328,180.724,332,189.724,328" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="44.5" y="321.0669">InterruptFallingEdge</text><!--MD5=[b3689919919084ac2d816f51303be795]
link START_BIT_A to TIMER_INT--><path d="M359.286,367.22 C365.183,383.857 374.524,402.207 389,414 C414.268,434.5839 484.288,451.1831 549.769,462.8275 " fill="none" id="START_BIT_A-to-TIMER_INT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="554.877,463.7275,546.7087,458.2249,549.953,462.859,545.319,466.1033,554.877,463.7275" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="390" y="410.0669">Prerušenie od časovača</text><!--MD5=[7bab9db8a430ac1e2b6669e29e457723]
link START_BIT_B to TIMER_INT--><path d="M884.551,353.075 C847.975,376.588 791.595,412.832 747.917,440.9104 " fill="none" id="START_BIT_B-to-TIMER_INT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="743.463,443.7736,753.1965,442.2706,747.6687,441.0694,748.8699,435.5416,743.463,443.7736" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="811" y="410.0669">Prerušenie od časovača</text><!--MD5=[e25fc731eda1eecb9b4c848912431db7]
link c to LSB--><path d="M618.159,68.209 C620.987,70.334 624.489,72.612 628,74 C710.776,106.71 744.008,69.371 826,104 C850.045,114.155 873.407,132.29 890.159,147.208 " fill="none" id="c-to-LSB" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="894.272,150.924,890.2748,141.9227,890.5617,147.5723,884.9121,147.8592,894.272,150.924" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="856" y="117.0669">[bit_index==4]</text><!--MD5=[85fb804708819fbd08f8e27614b948c9]
link c to MSB--><path d="M603.895,65.902 C571.295,77.576 447.826,121.788 371.365,149.168 " fill="none" id="c-to-MSB" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="366.398,150.946,376.2197,151.6774,371.1053,149.2602,373.5225,144.1458,366.398,150.946" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="498" y="117.0669">[bit_index==8]</text><!--MD5=[fe2e2c8e5e5f9b68fb8b7588762f678b]
link c to BIT--><path d="M612,74.203 C612,90.945 612,122.952 612,145.68 " fill="none" id="c-to-BIT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="612,150.954,616,141.954,612,145.954,608,141.954,612,150.954" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="613" y="117.0669">[bit_index !=4 &amp;&amp; bit_index!=8]</text><!--MD5=[3cc136a09b3f9a3e83ff0d7495ac307c]
link LSB to START_BIT_B--><path d="M904.287,194.097 C896.631,211.332 888.428,236.625 893,259 C895.745,272.432 901.248,286.494 906.73,298.322 " fill="none" id="LSB-to-START_BIT_B" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="908.905,302.907,908.6616,293.0612,906.762,298.3895,901.4336,296.49,908.905,302.907" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="894" y="255.0669">InterruptFallingEdge</text><!--MD5=[48674c44d898da7809b3f49188249c69]
link MSB to START_BIT_A--><path d="M314.529,194.202 C320.646,217.1 330.671,254.633 338.506,283.966 " fill="none" id="MSB-to-START_BIT_A" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="339.842,288.97,341.3849,279.2428,338.5522,284.1392,333.6557,281.3065,339.842,288.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="332" y="255.0669">InterruptFallingEdge</text><!--MD5=[34a628fd95d8e403a870dafd4e7846e2]
link BIT to TIMER_INT--><path d="M608.712,194.065 C603.733,229.98 596.587,306.114 614,367 C621.41,392.91 636.345,418.809 650.523,439.4501 " fill="none" id="BIT-to-TIMER_INT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="653.534,443.7731,651.6724,434.1018,650.6763,439.6702,645.1078,438.6741,653.534,443.7731" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="615" y="332.5669">Prerušenie od časovača</text><!--MD5=[85390a79ff087a342f35b26664b29928]
link TIMER_INT to RX_INT--><path d="M813.052,469.8662 C872.222,460.4354 941.766,443.6955 999,414 C1026.36,399.804 1037.11,394.997 1050,367 C1077.825,306.5865 1079.7125,231.999 1074.455,171.8251 C1073.1406,156.7817 1071.3797,142.639 1069.4658,129.844 C1068.5089,123.4464 1067.5137,117.3858 1066.517,111.7178 C1066.0187,108.8838 1065.5199,106.1481 1065.0254,103.5174 C1064.7782,102.2021 1064.532,100.9131 1064.2874,99.6512 C1064.2262,99.3358 1064.1652,99.022 1064.1042,98.7099 " fill="none" id="TIMER_INT-to-RX_INT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1064.1042,98.7099,1061.9032,108.3097,1065.0625,103.6172,1069.7549,106.7765,1064.1042,98.7099" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="1077" y="255.0669">InterruptEitherEdge</text><!--MD5=[622fe270c5f2ec2fbea075a59817ff75]
@startuml
hide empty description
[*] -right-> START_BIT_A :InterruptFallingEdge
START_BIT_A : Inicializácia/Vynulovanie pomocných premenných \n\tbit_index = 0
START_BIT_A : <b>Spusti PIT timer 3/4 periody </b>

START_BIT_A - -> TIMER_INT: <b>Prerušenie od časovača</b>
TIMER_INT: Stop timer
TIMER_INT: <b>Načítaj bit z RX pinu; bit_index++</b>
TIMER_INT: Enable InterruptEitherEdge

state START_BIT_B
START_BIT_B : 
START_BIT_B : <b>Spusti PIT timer 3/4 periody</b>
START_BIT_B - -> TIMER_INT: <b>Prerušenie od časovača</b>


state RX_INT{
    state c <<choice>>
    state "Prvé 4bity načítané(LSb)\n<b>Enable InterruptFallingEdge</b>" as LSB <<sdlreceive>>
    state "Druhé 4bity načítané(MSb)\n<b>Enable InterruptFallingEdge</b>" as MSB <<sdlreceive>>
    state "Disable INT: <b>InterruptOrDMADisabled</b> \n<b>Spusti PIT timer 3/4 periody </b>" as BIT <<sdlreceive>>
    c- -> LSB:[bit_index==4]
    c- -> MSB:[bit_index==8]
    c- -> BIT:[bit_index !=4 && bit_index!=8]
    LSB- ->START_BIT_B:<b>InterruptFallingEdge</b>
    MSB- ->START_BIT_A:<b>InterruptFallingEdge</b>
    BIT- ->TIMER_INT:<b>Prerušenie od časovača</b>
}
TIMER_INT - -> RX_INT: <b>InterruptEitherEdge</b>
@enduml

PlantUML version 1.2020.20beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>